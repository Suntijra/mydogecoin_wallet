<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Login</title>
</head>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter&family=Poppins:wght@600&display=swap" rel="stylesheet">


<!-- axios -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<!-- swal2 -->
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- <link rel="stylesheet" href="./aim.css" > -->
<style>
    body {
        padding: 0;
        margin: 0;
    }

    #search_txt::placeholder {
        color: #BABABA;
        opacity: 1;
    }
</style>

<body>
    <div style="background-image:url(./img/bg.png); 
    width: 100%;
    height: 100vh; 
    background-size: cover; 
    background-position: bottom;
    ">
        <div style="height:30%; display: flex; flex-direction: column; align-items: center; justify-content: center;">
            <div
                style="display: flex; justify-content: center; font-size: 48px; font-family: 'Poppins', sans-serif; color: aliceblue;">
                Login
            </div>
            <div
                style="display: flex; justify-content: center; padding-top: 20px; font-family: 'Inter', sans-serif; color: aliceblue;">
                Don't have an account? &nbsp;<a href="./signup.html" style="color: aliceblue;"> Sign up now!</a>
            </div>
        </div>
        <div style="height: 70%;">
            <div style="display: flex; justify-content: center;">
                <div
                    style="border-radius:20px; background: linear-gradient(116.41deg, rgba(255, 255, 255, 0.44) 2.01%, rgba(255, 255, 255, 0) 122.69%); backdrop-filter: blur(4px); width: 80%; ">

                    <div style="  padding: 6vw 7vw;;display: flex; justify-content: center; flex-direction: column;  ">
                        <div style="width:100%;  font-size: 4.2vw; font-family: 'Inter', sans-serif; color: aliceblue;">
                            Username
                        </div>
                        <div
                            style="width:100%; height: 5vh;  display: flex; justify-content: center; padding-top: 10px;">
                            <div
                                style="background-color: white; border-radius:10px; width: 100%; display: flex; justify-content: space-between;">
                                <div style="width: 20%; display: flex; justify-content: center; align-items: center;">
                                    <img src="img/account.png" style="object-fit: cover; height: 6vw;">
                                </div>
                                <input id="id_user" placeholder=" Your Username"
                                    style="outline:none; background:unset; border:none; width: 80%;   display:flex; align-items: center; font-family: 'Inter', sans-serif; font-size: 12px; color: #000000;">

                                </input>
                            </div>

                        </div>
                    </div>

                    <div style="  padding: 0 7vw;;display: flex; justify-content: center; flex-direction: column; ">
                        <div style="width:100%;  font-size: 4.2vw; font-family: 'Inter', sans-serif; color: aliceblue;">
                            Password
                        </div>
                        <div
                            style="width:100%; height: 5vh;  display: flex; justify-content: center; padding-top: 10px;">
                            <div
                                style="background-color: white; border-radius:10px; width: 100%; display: flex; justify-content: space-between;">
                                <div style="width: 20%; display: flex; justify-content: center; align-items: center;">
                                    <img src="img/eyeicon.png" style="object-fit: cover; height: 6vw;">
                                </div>
                                <input id="id_pwd" placeholder=" Your Password"
                                    style="outline:none; background:unset; border:none; width: 80%;   display:flex; align-items: center; font-family: 'Inter', sans-serif; font-size: 12px; color: #000000;">

                                </input>
                            </div>

                        </div>
                    </div>
                    <div
                        style="display: flex; justify-content:center; padding-top: 30px; flex-direction: column; align-items: center; justify-content: center; padding-bottom: 20px;">
                        <div id="login_btn"
                            style="border-radius: 15px; 
                background: linear-gradient(275.76deg, #7158E2 44.33%, #CD84F1 98.56%);
                box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); width: 40%; text-align: center; font-size: 5vw; height: 39px; justify-content: center; align-items: center; display: flex; font-family: 'Inter', sans-serif; font-size: 18px; color: aliceblue;">
                            Login
                        </div>
                        <div style="padding-top: 20px ; font-family: 'Inter', sans-serif; font-size: 12px;">
                            <a href="" style="color:#709FE4;">Forget password?</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>


</html>
<script>

    document.getElementById("login_btn").addEventListener("click", function () {
        let id_user = document.getElementById("id_user").value;
        let id_pwd = document.getElementById("id_pwd").value;
        if (id_user == "" || id_pwd == "") {
            alert("Please fill in all the fields");
        }
        else {
            axios.post('http://192.168.1.18:8000/api/post/login', {
                username: id_user,
                password: id_pwd
            }).then((result) => {
                let data = result.data
                console.log(data)
                if (data.status == "success") {
                    localStorage.setItem('token',data.token)
                    Swal2Alert('success', data.Result, 'success')
                    setInterval(() => {
                        window.location.href = "./import-and-create.html";
                    }, 1000);
                   
                }
                else {
                    Swal2Alert('error', 'Wrong username or password', ' ')
                    // alert("Wrong username or password");
                }
                
            }).catch((err) => {
                console.log(err)
                Swal2Alert('error', 'server catch!!', 'error')
            });
        }
    });
    function Swal2Alert(icon = 'success', title = 'Success', text = 'Success') {
        Swal.fire({
            icon: icon,
            title: title,
            text: text,
            // footer: '<a href="">Why do I have this issue?</a>'
        })
    }
</script>
